; -*- mode:     Lisp -*- --------------------------------------------------- ;
; File:         avm1.zb
; Description:  typed attribute-value language
; Author:       Joachim H. Laubsch
; Created:      13-Apr-92
; Modified:     Thu Oct  2 12:50:29 1997 (Joachim H. Laubsch)
; Language:     Lisp
; Package:      CL-USER
; Status:       Experimental (Do Not Distribute) 
; RCS $Header: /home/ramarren/LISP/git-repos/lisa-tmp/lisa/contrib/zebu-3.5.5/test/Attic/avm1.zb,v 1.1 2000/10/12 02:39:45 youngde Exp $
;
; (c) Copyright 1992, Hewlett-Packard Company
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Revisions:
; RCS $Log: avm1.zb,v $
; RCS Revision 1.1  2000/10/12 02:39:45  youngde
; RCS Added Zebu as contrib; initial class files; initial grammar
; RCS
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(:name "avm1"
 :package "CL-USER"
 :grammar "zebu-mg"
 :identifier-continue-chars
 "$-_abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"
 :domain-file "avm1-domain" 
)

;; Domain definition

Neg-Term          := [(-subterm)];
Feat-Term         := [(-type) (-slots)] ;
Label-value-pair  := [(-label) (-value)];
General-Var       := [(-name)];
Tagged-Term       := [(-term) (-tag)];
Za-Avm            := [(-type)];

;; Productions

Feat-Term -->  General-Var |  Untagged-Term | Tagged-Term | Term ;

Term -->
        Number | 
        Identifier 
        {Za-Avm:[(-type Identifier)]} |
        "(" Tagged-Term ")" ;


Tagged-Term -->  General-Var "=" Untagged-Term 
                 {Tagged-Term:
		  [(-tag General-Var)
		   (-term Untagged-Term)]} ;

General-Var --> "%" Number
                {General-Var: [(-name Number)]} ;

Untagged-Term --> Pos-Untagged-Term | Neg-Untagged-Term;

Neg-Untagged-Term --> "~" Pos-Untagged-Term
                      {Neg-Term:[(-subterm Pos-Untagged-Term)]};

Pos-Untagged-Term -->   Identifier
                      | String
                      | Identifier ":" "[" Label-value-pairs "]" 
                        {Feat-Term:
                         [(-type Identifier) (-slots Label-value-pairs)]}
                      | "[" Label-value-pairs "]" 
                        {Feat-Term: [(-slots Label-value-pairs)]} ;

Label-value-pair --> "(" Identifier Feat-Term ")" 
                     {Label-value-pair:
                     [(-label Identifier) (-value Feat-Term)]} ;

Label-value-pairs --> Label-value-pair * " " ;



;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;                                End of avm1.zb
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
